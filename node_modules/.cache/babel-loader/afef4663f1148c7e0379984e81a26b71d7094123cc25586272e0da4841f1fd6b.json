{"ast":null,"code":"import _toConsumableArray from\"C:/Users/jacob/Documents/GitHub/company-projects/system-engineering-group-react/client-side/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/jacob/Documents/GitHub/company-projects/system-engineering-group-react/client-side/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import CompAddProduct from\"./CompAddProduct\";import axios,{all}from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var products=[];function CompProducts(){var _useState=useState({name:\"\",price:0,desc:\"\",sku:0}),_useState2=_slicedToArray(_useState,2),productViewLg=_useState2[0],setProductViewLg=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),allProducts=_useState4[0],setAllProducts=_useState4[1];//   function ProductAdd() {\n//     console.log(\"hi Mom\");\n//     products.push({ pName: \"Product 3\", pPrice: 500, pSku: 4 });\n//   }\nvar AddProduct=function AddProduct(newProduct){// const clear = []\n// setAllProducts(clear);\nnewProduct.pSku=allProducts.length+1;var updatedProducts=[].concat(_toConsumableArray(allProducts),[newProduct]);setAllProducts(updatedProducts);// start\n// axios.post(\"/save-product\", {body: updatedProducts})\naxios.put(\"/save-product\",{body:updatedProducts}).then(function(response){// console.log(response);\n}).catch(function(error){// console.log(error);\n});// end\n};useEffect(function(){axios.get(\"/load-products\").then(function(response){setAllProducts(response.data.body);});},[]);// function loadProducts() {\n//   axios.get(\"/load-products\")\n//   fetch(\"/load-products\")\n//     .then((response) => response.json())\n//     .then((data) => {\n//       setAllProducts(data.body);\n//     });\n// }\n// useState(loadProducts)\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"custom-bg-3 min-vh-100 p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container min-vh-100 custom-bg-4 c-text-white text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"display-3 fw-semibold\",children:\"Products\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(CompAddProduct,{addProduct:AddProduct}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center p-1\",children:allProducts&&allProducts.map(function(product){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-3 custom-bg-5 m-1 p-2\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",onClick:function onClick(evt){setProductViewLg({name:evt.currentTarget.querySelector(\".name\").innerHTML,price:evt.currentTarget.querySelector(\".price\").innerHTML,desc:evt.currentTarget.querySelector(\".desc\").innerHTML,sku:evt.currentTarget.querySelector(\".sku\").innerHTML});},children:[/*#__PURE__*/_jsx(\"img\",{src:\"./upload-images/\"+product.image,alt:\"\",width:100}),/*#__PURE__*/_jsx(\"h2\",{className:\"name\",children:product.pName}),/*#__PURE__*/_jsxs(\"h3\",{className:\"price\",children:[product.pPrice,\"$\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"desc d-none\",children:product.pDesc}),/*#__PURE__*/_jsxs(\"p\",{className:\"sku\",children:[\"Sku: \",product.pSku]})]},product.pSku);})}),!allProducts&&setAllProducts(products),/*#__PURE__*/_jsx(\"div\",{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:-1,\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"modal-title fs-5\",id:\"exampleModalLabel\",children:[productViewLg.sku,\" \\xA0\",productViewLg.name]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"fw-bold\",children:[\"Price: \",productViewLg.price]}),/*#__PURE__*/_jsx(\"br\",{}),productViewLg.desc]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"})]})]})})})]});}export default CompProducts;","map":{"version":3,"names":["useState","useEffect","CompAddProduct","axios","all","products","CompProducts","name","price","desc","sku","productViewLg","setProductViewLg","allProducts","setAllProducts","AddProduct","newProduct","pSku","length","updatedProducts","put","body","then","response","catch","error","get","data","map","product","evt","currentTarget","querySelector","innerHTML","image","pName","pPrice","pDesc"],"sources":["C:/Users/jacob/Documents/GitHub/company-projects/system-engineering-group-react/client-side/src/components/pages/CompProducts.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport CompAddProduct from \"./CompAddProduct\";\r\nimport axios, { all } from \"axios\";\r\n\r\nlet products = [];\r\n\r\nfunction CompProducts() {\r\n  let [productViewLg, setProductViewLg] = useState({\r\n    name: \"\",\r\n    price: 0,\r\n    desc: \"\",\r\n    sku: 0,\r\n  });\r\n  const [allProducts, setAllProducts] = useState(null);\r\n  //   function ProductAdd() {\r\n  //     console.log(\"hi Mom\");\r\n  //     products.push({ pName: \"Product 3\", pPrice: 500, pSku: 4 });\r\n  //   }\r\n\r\n  const AddProduct = (newProduct) => {\r\n    // const clear = []\r\n    // setAllProducts(clear);\r\n\r\n    newProduct.pSku = allProducts.length + 1;\r\n    const updatedProducts = [...allProducts, newProduct];\r\n    setAllProducts(updatedProducts);\r\n    // start\r\n    // axios.post(\"/save-product\", {body: updatedProducts})\r\n    axios\r\n      .put(\"/save-product\", { body: updatedProducts })\r\n      .then(function (response) {\r\n        // console.log(response);\r\n      })\r\n      .catch(function (error) {\r\n        // console.log(error);\r\n      });\r\n    // end\r\n  };\r\n  useEffect(() => {\r\n    axios.get(\"/load-products\").then((response) => {\r\n      setAllProducts(response.data.body);\r\n    });\r\n  }, []);\r\n  // function loadProducts() {\r\n\r\n  //   axios.get(\"/load-products\")\r\n  //   fetch(\"/load-products\")\r\n  //     .then((response) => response.json())\r\n  //     .then((data) => {\r\n  //       setAllProducts(data.body);\r\n  //     });\r\n  // }\r\n\r\n  // useState(loadProducts)\r\n\r\n  return (\r\n    <>\r\n      <div className=\"custom-bg-3 min-vh-100 p-3\">\r\n        <div className=\"container min-vh-100 custom-bg-4 c-text-white text-center\">\r\n          <h2 className=\"display-3 fw-semibold\">Products</h2>\r\n          <hr />\r\n          <CompAddProduct addProduct={AddProduct} />\r\n          <hr />\r\n          <div className=\"row justify-content-center p-1\">\r\n            {allProducts &&\r\n              allProducts.map((product) => (\r\n                <div\r\n                  className=\"col-12 col-lg-3 custom-bg-5 m-1 p-2\"\r\n                  key={product.pSku}\r\n                  data-bs-toggle=\"modal\"\r\n                  data-bs-target=\"#exampleModal\"\r\n                  onClick={(evt) => {\r\n                    setProductViewLg({\r\n                      name: evt.currentTarget.querySelector(\".name\").innerHTML,\r\n                      price:\r\n                        evt.currentTarget.querySelector(\".price\").innerHTML,\r\n                      desc: evt.currentTarget.querySelector(\".desc\").innerHTML,\r\n                      sku: evt.currentTarget.querySelector(\".sku\").innerHTML,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    src={\"./upload-images/\" + product.image}\r\n                    alt=\"\"\r\n                    width={100}\r\n                  />\r\n                  <h2 className=\"name\">{product.pName}</h2>\r\n                  <h3 className=\"price\">{product.pPrice}$</h3>\r\n                  <p className=\"desc d-none\">{product.pDesc}</p>\r\n                  <p className=\"sku\">Sku: {product.pSku}</p>\r\n                </div>\r\n              ))}\r\n          </div>\r\n          {!allProducts && setAllProducts(products)}\r\n          <div>{/* <button onClick={ProductAdd}>add</button> */}</div>\r\n        </div>\r\n        {/* <button\r\n          onClick={() => {\r\n            ProductAdd();\r\n            setAllProducts(products);\r\n          }}\r\n        >\r\n          Test\r\n        </button> */}\r\n      </div>\r\n\r\n      {/* Modal */}\r\n      <div\r\n        className=\"modal fade\"\r\n        id=\"exampleModal\"\r\n        tabIndex={-1}\r\n        aria-labelledby=\"exampleModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h1 className=\"modal-title fs-5\" id=\"exampleModalLabel\">\r\n                {productViewLg.sku} &nbsp;\r\n                {productViewLg.name}\r\n              </h1>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-close\"\r\n                data-bs-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              />\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <span className=\"fw-bold\">Price: {productViewLg.price}</span>\r\n              <br />\r\n              {productViewLg.desc}\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button type=\"button\" className=\"btn btn-primary\">\r\n                Contact\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary\"\r\n                data-bs-dismiss=\"modal\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CompProducts;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}